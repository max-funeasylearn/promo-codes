System.register(["angular2/core","angular2/http","rxjs/add/operator/map","./vars"],function(t,e){"use strict";var o,r,n,i,p=(e&&e.id,this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,p=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(p=(i<3?n(p):i>3?n(e,o,p):n(e,o))||p);return i>3&&p&&Object.defineProperty(e,o,p),p},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};return{setters:[function(t){o=t},function(t){r=t},function(t){},function(t){n=t}],execute:function(){i=function(t){function e(e){this.error="",this.message="",this.info="",this.promo_code_types=[],this.http=e,t.call(this)}return p(e,t),e.prototype.showForm=function(t,e){$("main-container").hide(),$("main-container#promo_code_type_form").show(),void 0!==e?($("#promo_code_type_form_title").text("Edit Promo Code Type"),$("#promo_code_type_id").val(e.promo_code_type_id),$("#project_name").val(e.project_name),$("#title").val(e.title),$("#promo_code_api_title").val(e.promo_code_api_title),$("#comment").val(e.comment)):($("#promo_code_type_form_title").text("New Promo Code Type"),$("#promo_code_type_id").val(0),$("#project_name").val(""),$("#title").val(""),$("#promo_code_api_title").val(""),$("#comment").val("")),document.querySelector("form#promo_code_type_form").dispatchEvent(new Event("display"))},e.prototype.delete=function(t){var e=this;if(!confirm("Are you sure?"))return!1;this.http.post("/promo_code_types/delete",JSON.stringify({promo_code_type_ids:t}),{headers:{"Content-Type":"application/json"}}).map(function(t){return t.json()}).subscribe(function(t){return e.deleteCallback(t)})},e.prototype.get=function(){var t=this;this.http.get("/promo_code_types").map(function(t){return t.json()}).subscribe(function(e){return t.getCallback(e)})},e.prototype.onDisplay=function(){this.message="",this.error="",this.info="",this.get()},e.prototype.getCallback=function(t){void 0===t.error?(this.promo_code_types=t,0==this.promo_code_types.length?this.info="Empty result":this.info=""):(this.promo_code_types=[],this.error=t.error)},e.prototype.deleteCallback=function(t){void 0===t.error?(this.message="Promo code type successfully deleted",this.get()):this.error=t.error},e=c([o.Component({selector:"main-container#promo_code_types",viewProviders:[r.HTTP_PROVIDERS],templateUrl:"partials/promo_code_types.html"}),s("design:paramtypes",[r.Http])],e)}(n.Vars),t("PromoCodeTypesComponent",i)}}});