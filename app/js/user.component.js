System.register(["angular2/core","angular2/http","./vars"],function(t,e){"use strict";var s,r,i,o,n=(e&&e.id,this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}),a=this&&this.__decorate||function(t,e,s,r){var i,o=arguments.length,n=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(n=(o<3?i(n):o>3?i(e,s,n):i(e,s))||n);return o>3&&n&&Object.defineProperty(e,s,n),n},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};return{setters:[function(t){s=t},function(t){r=t},function(t){i=t}],execute:function(){o=function(t){function e(e){this.form_title="New User",this.user={user_id:0,username:"",password:"",firstname:"",lastname:"",user_type:"moderator",status:!0,promocodes_limit:0},this.http=e,t.call(this)}return n(e,t),e.prototype.save=function(t){var e=this,s="";s=0==this.user.user_id?"/users/register":"/users/edit",this.http.post(s,JSON.stringify(this.user),{headers:{"Content-Type":"application/json"}}).subscribe(function(t){return e.extractData(t)})},e.prototype.extractData=function(t){document.querySelector("#navigation #users_a").dispatchEvent(new Event("click"))},e.prototype.onDisplay=function(){return 0!=parseInt($("#user_id").val())?(this.user.user_id=$("#user_id").val(),this.user.username=$("#username").val(),this.user.user_type=$("#user_type").val(),this.user.password=$("#password").val(),this.user.firstname=$("#firstname").val(),this.user.lastname=$("#lastname").val(),this.user.status=$("#status").is(":checked")?1:0,this.user.promocodes_limit=$("#promocodes_limit").val(),this.user.user_form_title=$("#user_form_title").text()):this.user={user_id:0,username:"",password:"",firstname:"",lastname:"",user_type:"moderator",status:1,promocodes_limit:0},!0},e.prototype.onStatusChange=function(t){this.user.status=$(t).is(":checked")?1:0},e=a([s.Component({selector:"main-container#user_form",viewProviders:[r.HTTP_PROVIDERS],templateUrl:"partials/user_form.html",providers:[r.HTTP_PROVIDERS]}),u("design:paramtypes",[r.Http])],e)}(i.Vars),t("UserComponent",o)}}});